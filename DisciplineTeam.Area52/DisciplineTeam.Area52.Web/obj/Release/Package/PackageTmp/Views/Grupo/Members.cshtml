@model DisciplineTeam.Area52.Web.Models.Usuario
@{
    ViewBag.Title = "friends";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<!--            Começo Menu Esquerdo            -->
<!--Cria as Coluna principal da Div-->
<div class="col-lg-2 col-sm-12 col-md-3">
    <!-- Cria a Div interior e a deixa com borda preta-->
    <div id="cor-borda" class="panel panel-default">
        <!--Aplica o fundo preto e cria o head da div-->
        <div id="cor-fundo-header" class="panel-heading no-border">
            <!-- Escritos e icones da barra preta da div-->
            <a id="cor-fonte" href="~/Grupo/Index/?GrupoId=@ViewBag.InfoGrupo.GIdGrupo"><span class="glyphicon glyphicon-list cor-fonte-sem-efeito">&nbsp;</span><span class="head-amigrups">Group</span></a>
        </div><!--/panel-heading-->
        <!--Div onde fica os textos do grupo-->
        <div class="list-group-item no-border">
            <a href="~/Grupo/Index/?GrupoId=@ViewBag.InfoGrupo.GIdGrupo"> <img src="@ViewBag.InfoGrupo.GImagem" class="img-responsive thumbnail borda-profile center-block" alt=""></a>
            <h2 class="text-center"><a href="~/Grupo/Index/?GrupoId=@ViewBag.InfoGrupo.GIdGrupo">@ViewBag.InfoGrupo.GNome</a></h2>
            <p class="text-center">@ViewBag.InfoGrupo.JNome</p>
            <!--Botão join com efeito JS-->
            <div class="panel-body no-border">
                <div class="row">
                    <center>
                        @if (ViewBag.StatusUserGrupo == 4)
                        {
                            <form method="post" action="~/Grupo/BtnVoltarGrupo/?IdGrupo=@ViewBag.InfoGrupo.GIdGrupo&IdUser=@ViewBag.IdUsuario">
                                <div class="joined" style="">
                                    <button id="cor-fonte" class="btn cor-fonte efeito-fade-navbar borda-botao-search" type="submit">
                                        <span class="glyphicon glyphicon-plus"></span> Join
                                    </button>
                                </div>
                            </form>
                        }
                        else if (ViewBag.StatusUserGrupo == 1)
                        {
                            <form method="post" action="~/Grupo/BtnSairGrupo/?IdGrupo=@ViewBag.InfoGrupo.GIdGrupo&IdUser=@ViewBag.IdUsuario">
                                <div class="joined" style="">
                                    <button id="cor-fonte" class="btn cor-fonte efeito-fade-navbar borda-botao-search" type="submit">
                                        <span class="glyphicon glyphicon-minus"></span> Leave Group
                                    </button>
                                </div>
                            </form>
                        }
                        else if (ViewBag.StatusUserGrupo == 5)
                        {
                            <form method="post" action="~/Grupo/BtnPartGrupo/?IdGrupo=@ViewBag.InfoGrupo.GIdGrupo&IdUser=@ViewBag.IdUsuario">
                                <div class="join">
                                    <button id="cor-fonte" class="btn cor-fonte efeito-fade-navbar borda-botao-search" type="submit">
                                        <span class="glyphicon glyphicon-plus"></span> Join
                                    </button>
                                </div>
                            </form>
                        }
                    </center>
                </div><!--/list-group-item-->
                <!--<a id="cor-fonte-menu" href="#"  class="list-group-item"><span class="badge" style="color:#00FF00;">2</span><span class="profile-text glyphicon glyphicon-ok"> Requests </span> </a><a id="cor-fonte-menu" href="#" class="list-group-item"><span class="profile-text glyphicon glyphicon-thumbs-up"> Commends</span></a>-->
            </div><!--/list-group-->
        </div><!--/col-lg-2 col-sm-12 col-md-3-->
    </div>
</div>
<!--            Fim Menu Esquerdo               -->
<!-- Começo da tela de Members -->
<!--Div com tamanho 10/12 lg, 12/12 sm e 9/12 md-->
<div class="col-lg-10 col-sm-12 col-md-9">
    <!-- Cria a Div interior e a deixa com borda preta-->
    <div id="cor-borda" class="panel panel-default">
        <!--Aplica o fundo preto e cria o head da div-->
        <div id="cor-fundo-header" class="panel-heading">
            <!-- Escritos e icones da barra preta da div-->
            <a id="cor-fonte" href="#"><span class="glyphicon glyphicon-star cor-fonte-sem-efeito">&nbsp;</span><span class="head-amigrups">Members From @ViewBag.InfoGrupo.GNome (@ViewBag.QuantUserGrupos)</span></a>
        </div><!--/panel-heading-->
        <!-- Corpo do texto da div nem todas terão ele-->
        <div class="panel-body">
            <!--Cria uma linha da div para separa-lá dos grupos-->
            @*<div class="row">
                <!--Faz com que a searchbox ocupe sempre 4/12 da div em que ela está dentro-->
                <div class="col-lg-4">
                    <!--Não sei ao certo oq faz deve ser o body do input-->
                    <div class="input-group">
                        <!--Creio ser um jeito pra formatar o botão-->
                        <span class="input-group-btn">
                            <!--Começo botão com o glyphicon-->
                            <button id="cor-fonte" class="btn cor-fonte efeito-fade-navbar" type="button">
                                <i class="glyphicon glyphicon-search"></i>
                            </button>
                        </span><!--/input-group-btn-->
                        <!--Cria o textbox do search-->
                        <input type="text" class="form-control" placeholder="Search members">
                    </div><!-- /input-group -->
                </div><!-- /.col-lg-4 -->
            </div><!-- /.row -->
            <hr class="borda-profile"><!--Divisor-->*@
            <!--Começo Membero define o tamanho da Div para 3/12-->
        @foreach (var e in ViewBag.ReadMembrosGrupoTotal)
        {
        <div class="col-lg-3 col-sm-6">
                <!--Adiciona o thumbnail e deixa a borda preta-->
                <div id="cor-borda" class="thumbnail">
                    @if (e.PIdPessoa == ViewBag.IdUsuario || ViewBag.StatusUserGrupo == 2)
                    {
                        if(e.PartIdUsuario != ViewBag.IdUsuario)
                        { 
                        <div class="dropdown pull-right flexnav">
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                                <i class="glyphicon glyphicon-chevron-down"></i>
                            </a>
                            <ul class="dropdown-menu" style="z-index: 9999; overflow: visible;">
                                <li>
                                    <form method="post" action="~/Grupo/BtnBanUser/?IdGrupo=@e.PartIdGrupo&IdUser=@e.PartIdUsuario">
                                        <div class="join">
                                            <button class="btn-dropmenu" type="submit">
                                                <i class="icon-pencil"></i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ban User
                                            </button>
                                        </div>
                                    </form>
                                </li>
                            </ul>
                        </div>
                        }
                        else
                        {
                        <div class="dropdown pull-right flexnav">
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                                <i class="glyphicon glyphicon-chevron-down"></i>
                            </a>
                        </div>
                        }
                    }
                    <!--Link para o profile-->
                    <a href="~/Grupo/Person/?UserID=@e.PartIdUsuario"><img src="@e.UImagem" alt="..." class="borda-profile"></a>
                    <!--body do thumbnail com texto centralizado-->
                    <div class="caption text-center">
                        <!--Link do usuario-->
                        <a id="cor-fonte-menu" href="~/Grupo/Person/?UserID=@e.PartIdUsuario" title="@e.UNick">
                            <!--Nick do Usuario-->
                            
                            <h3 class="text-overflow">@if(e.PartStatus == 2)
                            {
                                <i class="glyphicon glyphicon-user" title="Group Admin"></i>
                            }
                            @e.UNick</h3>
                            <!--Nome do Usuário-->
                            <p class="text-overflow">@e.PNome</p>
                        </a>
                        @if (ViewBag.StatusUserGrupo == 2)
                        {
                            if (e.PartStatus != 2)
                            {
                            <form method="post" action="~/Grupo/BtnAddMod/?IdGrupo=@ViewBag.InfoGrupo.GIdGrupo&IdUser=@e.PartIdUsuario">
                                <div class="" style="">
                                    <button id="cor-fonte" class="btn cor-fonte efeito-fade-navbar borda-botao-search" type="submit">
                                        <span class="glyphicon glyphicon-plus"></span> Add Mod
                                    </button>
                                </div>
                            </form>
                            }
                            else
                            {
                                <div class="" style="">
                                    <button id="cor-fonte" class="btn cor-fonte efeito-fade-navbar borda-botao-search" disabled>
                                        <span class="glyphicon glyphicon-user"></span> Already Mod
                                    </button>
                                </div>
                            }
                        }
                                </div><!--/caption-->
                </div><!--/thumbnail-->
            </div><!-- Fim membro /.col-sm-3 -->
        }
        </div><!-- /.panel-body -->
    </div><!-- /.panel panel-default -->
</div><!-- /.col-lg-10 col-sm-12 col-md-9 -->
<!--Fim tela members-->
